# 内存池设计说明
内存池的设计，主要是包管理，因为游戏数据包频繁的交互 ，必须设计内存池，减少内存碎片，提高性能

采用 Client, Manager 的方式进行内存管理

### CMemClient 是对分配出去的内存的封装
1. 提供内存 append, skip, clear 等接口

### CMemManager 提供内存分配和回收处理，同时考虑内存空间的收缩
1. 采用freelist的方式管理内存，stub 保存所有内存信息
2. 以byte为基本单位，将相同块大小的内存块组成链表，有点像hash 散列的拉链法
3. 内存回收时，做内存收缩检测，根据初始快数量，做减半处理
4. 内存只在收缩或是析构的时候，做delete， 其他情况不做释放
5. 在分配小块内存的时候，假如内存已经分配过多,超过指定水位，则释放掉大空间块的内存，来供给小内存
